(this["webpackJsonphackernews-front"]=this["webpackJsonphackernews-front"]||[]).push([[0],{104:function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"showTodos",(function(){return g})),e.d(r,"forFilterBar",(function(){return j})),e.d(r,"addTodoItem",(function(){return y})),e.d(r,"updateTodoItem",(function(){return x})),e.d(r,"removeTodoItem",(function(){return E})),e.d(r,"clearCompletedItems",(function(){return w}));var o,a,c=e(1),i=e.n(c),u=e(74),l=e.n(u),d=(e(95),e(71)),s=e(70),f=e(69),m=e(81),v=e(4),b=e(41);!function(t){t.active="active",t.completed="completed"}(o||(o={})),function(t){t.active="active",t.all="all",t.completed="completed"}(a||(a={}));function p(){var t=Object(v.a)(["\n    query showTodos {\n  visibilityFilter @client\n  todos @client {\n    id\n    status\n    content\n    isLoading\n  }\n}\n    ","\n"]);return p=function(){return t},t}var g=Object(b.a)(p(),"fragment todo on TodoItem {\n  content\n  status\n  isLoading\n}");function h(){var t=Object(v.a)(["\n    query forFilterBar {\n  visibilityFilter @client\n}\n    \n"]);return h=function(){return t},t}var j=Object(b.a)(h());function O(){var t=Object(v.a)(["\n    mutation addTodoItem($content: String!) {\n  addTodoItem(content: $content) @client {\n    id\n  }\n}\n    \n"]);return O=function(){return t},t}var y=Object(b.a)(O());function I(){var t=Object(v.a)(["\n    mutation updateTodoItem($id: ID!, $content: String, $status: TodoItemStatus) {\n  updateTodoItem(id: $id, content: $content, status: $status) @client\n}\n    \n"]);return I=function(){return t},t}var x=Object(b.a)(I());function T(){var t=Object(v.a)(["\n    mutation removeTodoItem($id: ID!) {\n  removeTodoItem(id: $id) @client {\n    id\n  }\n}\n    \n"]);return T=function(){return t},t}var E=Object(b.a)(T());function C(){var t=Object(v.a)(["\n    mutation clearCompletedItems {\n  clearCompletedItems @client\n}\n    \n"]);return C=function(){return t},t}var w=Object(b.a)(C()),k=e(67),S=(e(68),e(72));e(73);function $(t,n){return Object(k.a)(t,n)}function F(t,n){return Object(S.a)(t,n)}var D=r,L=e(77);function q(){var t=Object(v.a)(["\n        fragment todo on TodoItem {\n            content\n            status\n            isLoading\n        }\n"]);return q=function(){return t},t}var R=Object(b.a)(q()),B=0,Q={Mutation:{addTodoItem:function(t,n,e){var r=n.content,a=e.cache,c=a.readQuery({query:D.showTodos}),i={__typename:"TodoItem",id:B++,content:r,status:o.active,isLoading:!1},u={todos:[i].concat(Object(m.a)(c.todos))};return a.writeData({data:u}),i},updateTodoItem:function(t,n,e){var r=n.id,o=n.content,a=void 0===o?null:o,c=n.status,i=void 0===c?null:c,u=e.cache,l=(0,e.getCacheKey)({__typename:"TodoItem",id:r}),d=u.readFragment({fragment:R,id:l}),s=Object(L.a)(d,(function(t){a&&(t.content=a),i&&(t.status=i)}));return u.writeData({data:s,id:l}),!0},removeTodoItem:function(t,n,e){var r=n.id,o=e.cache,a=o.readQuery({query:D.showTodos}),c=a.todos.filter((function(t){return t.id!=r}));return o.writeData({data:{todos:c}}),a.todos.filter((function(t){return t.id==r}))[0]},clearCompletedItems:function(t,n,e){var r=e.cache,a=r.readQuery({query:D.showTodos}),c=[],i=a.todos.filter((function(t){var n=t.status==o.completed;return n&&c.push(t),!n}));return r.writeData({data:{todos:i}}),c}},TodoItem:{}},_=e(26),z=e(33),J=e(11);function K(){var t=Object(v.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n"]);return K=function(){return t},t}function V(){var t=Object(v.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tpadding: 5px 20px;\n\tborder-bottom: 1px solid grey;\n"]);return V=function(){return t},t}function M(){var t=Object(v.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return M=function(){return t},t}function A(){var t=Object(v.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n"]);return A=function(){return t},t}var G=J.a.div(A()),H=J.a.div(M()),N=(J.a.div(V()),J.a.div(K()),e(58)),P=e(56),U=e(39);function W(){var t=Object(v.a)(["\n\tposition: absolute;\n\tright: 5px;\n\ttop: 30%;\n\tcolor: grey;\n\t","\n"]);return W=function(){return t},t}function X(){var t=Object(v.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tposition: relative;\n\tfont-size: 17px;\n"]);return X=function(){return t},t}function Y(){var t=Object(v.a)(["\n\tflex: 1;\n\tpadding: 5px 5px;\n\tborder: 1px solid grey;\n\tborder-radius: 3px;\n"]);return Y=function(){return t},t}var Z=J.a.input(Y()),tt=J.a.form(X()),nt=Object(J.a)(P.a).attrs((function(){return{icon:U.a}}))(W(),(function(t){if(!t.disabled)return"\n\t\t\tcolor: black;\n\t\t\t&:hover {\n\t\t\t\tcolor: blue;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t"})),et=function(t){var n=t.onSubmit,e=t.placeholder,r=void 0===e?"enter message...":e,o=t.defaultValue,a=void 0===o?"":o,u=Object(N.a)(t,["onSubmit","placeholder","defaultValue"]),l=Object(c.useRef)(null),d=Object(c.useState)(a),s=Object(_.a)(d,2),f=s[0],m=s[1];return i.a.createElement(tt,Object.assign({onSubmit:function(t){t.preventDefault(),f.length>1&&(n(f),m(""))}},u),i.a.createElement(Z,{ref:l,value:f,onChange:function(t){return m(t.target.value)},placeholder:r}),i.a.createElement(nt,{onClick:function(){f.length&&(n(f),m(""))},disabled:0==f.length}))};function rt(){var t=Object(v.a)(["\n\tbackground-color: grey;\n"]);return rt=function(){return t},t}function ot(){var t=Object(v.a)(["\n\tborder: 1px solid black;\n\tbackground-color: white;\n"]);return ot=function(){return t},t}function at(){var t=Object(v.a)(["\n\tjustify-content: space-between;\n\tpadding: 0px 20px;\n"]);return at=function(){return t},t}var ct=Object(J.a)(G)(at()),it=J.a.button(ot()),ut=Object(J.a)(it)(rt()),lt=function(t){var n=t.choices,e=t.selectedChoice,r=t.onSelectChoice;return i.a.createElement("div",null,n.map((function(t){return t==e?i.a.createElement(ut,{key:t},t):i.a.createElement(it,{key:t,onClick:function(){return r(t)}},t)})))},dt=function(t){var n=t.choices,e=t.selectedChoice,r=t.onSelectChoice,o=t.onClearCompleted;return i.a.createElement(ct,null,i.a.createElement(lt,{choices:n,selectedChoice:e,onSelectChoice:r}),i.a.createElement(it,{onClick:o},"Clear Completed"))};function st(){var t=Object(v.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return st=function(){return t},t}function ft(){var t=Object(v.a)(["\n\tposition: absolute;\n\tright: 5px;\n\ttop: 30%;\n\t","\n"]);return ft=function(){return t},t}function mt(){var t=Object(v.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tposition: relative;\n\tborder: 1px solid grey;\n"]);return mt=function(){return t},t}function vt(){var t=Object(v.a)(["\n\tflex: 1;\n\tpadding: 5px 5px;\n\tborder-radius: 3px;\n\tfont-size: 17px;\n\tborder: 0;\n\t","\n"]);return vt=function(){return t},t}var bt=J.a.input(vt(),(function(t){return t.completed&&"font-style: italic; text-decoration: line-through;"})),pt=J.a.div(mt()),gt=Object(J.a)(P.a)(ft(),(function(t){var n=t.color;return"\n\tcolor: ".concat(n.primary,";\n\t&:hover {\n\t\tcolor: ").concat(n.hover,";\n\t\tcursor: pointer;\n\t}\n\t")})),ht=J.a.div(st()),jt=function(t){var n=t.checked,e=t.onToggle;return i.a.createElement(ht,null,i.a.createElement("input",{type:"checkbox",checked:n,onChange:e}),i.a.createElement("span",null))},Ot=function(t){return i.a.createElement(gt,Object.assign({icon:U.b,color:{primary:"black",hover:"grey"}},t))},yt=function(t){return i.a.createElement(gt,Object.assign({icon:U.c,color:{primary:"black",hover:"grey"}},t))},It=function(t){var n=t.value,e=t.completed,r=t.isSync,o=void 0!==r&&r,a=t.onChangeText,u=t.onToggle,l=t.onRemove,d=(Object(N.a)(t,["value","completed","isSync","onChangeText","onToggle","onRemove"]),Object(c.useState)(n)),s=Object(_.a)(d,2),f=s[0],m=s[1],v=Object(c.useRef)(null);return i.a.createElement(pt,null,i.a.createElement(jt,{checked:e,onToggle:u}),i.a.createElement(bt,{value:f,ref:v,onChange:function(t){return m(t.target.value)},onBlur:function(){return f!=n&&a(f)},onKeyDown:function(t){"Escape"==t.key?t.target.blur():"Enter"==t.key&&t.target.blur()},completed:e}),o?i.a.createElement(Ot,null):i.a.createElement(yt,{onClick:l}))},xt=function(){return i.a.createElement("div",null,"Loading... ")},Tt=function(){return i.a.createElement("div",null,"no items... ")},Et=function(t){var n=t.onChangeItemContent,e=t.onChangeItemStatus,r=t.onRemoveItem,o=t.isLoading,a=t.todos;return o?i.a.createElement(xt,null):0==a.length?i.a.createElement(Tt,null):i.a.createElement(H,null,a.map((function(t){var o=t.content,a=t.status,c=t.isLoading,u=t.id;return i.a.createElement(It,{key:u,value:o,completed:"completed"==a,isSync:c,onChangeText:function(t){return n(u,t)},onToggle:function(){return e(u,"active"==a?"completed":"active")},onRemove:function(){return r(u)}})})))};function Ct(){var t=Object(v.a)(["\n\tflex: 1;\n\twidth: 100%;\n\tborder: 1px solid black;\n\talign-items: center;\n"]);return Ct=function(){return t},t}function wt(){var t=Object(v.a)(["\n\tpadding: 20px;\n"]);return wt=function(){return t},t}function kt(){var t=Object(v.a)(["\n\tflex: 1;\n\twidth: 100%;\n"]);return kt=function(){return t},t}function St(){var t=Object(v.a)(["\n\tfont-size: 30px;\n\tfont-weight: bold;\n"]);return St=function(){return t},t}function $t(){var t=Object(v.a)(["\n\tflex: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 20px;\n"]);return $t=function(){return t},t}function Ft(){var t=Object(v.a)(["\nquery showTodos {\n\tvisibilityFilter @client\n\ttodos @client {\n\t\tid\n\t\tstatus\n\t\tcontent\n\t\tisLoading\n\t}\n}\n\nmutation addTodoItem($content:String!) {\n\taddTodoItem(content:$content) @client { id }\n}\n\nmutation updateTodoItem($id:ID!, $content:String, $status:TodoItemStatus){\n\tupdateTodoItem(id:$id, content:$content, status:$status) @client\n}\n\nmutation removeTodoItem($id:ID!){\n\tremoveTodoItem(id:$id) @client {\n\t\tid\n\t}\n}\n\nquery forFilterBar {\n\tvisibilityFilter @client\n}\n\nmutation clearCompletedItems {\n\tclearCompletedItems @client\n}\n"]);return Ft=function(){return t},t}Object(b.a)(Ft());var Dt=Object(z.a)(H)($t()),Lt=Object(z.a)(H)(St()),qt=Object(z.a)(H)(kt()),Rt=Object(z.a)(H)(wt()),Bt=Object(z.a)(H)(Ct()),Qt=function(){var t=F(D.addTodoItem),n=Object(_.a)(t,1)[0];return i.a.createElement(et,{onSubmit:function(t){return n({variables:{content:t}})}})},_t=function(){var t=$(D.forFilterBar),n=t.data,e=t.updateQuery,r=F(D.clearCompletedItems),o=Object(_.a)(r,1)[0];return i.a.createElement(dt,{choices:["all","active","completed"],selectedChoice:n.visibilityFilter,onSelectChoice:function(t){return e((function(n){return{visibilityFilter:t}}))},onClearCompleted:function(){return o()}})},zt=function(){var t=$(D.showTodos).data,n=F(D.updateTodoItem),e=Object(_.a)(n,1)[0],r=F(D.removeTodoItem),o=Object(_.a)(r,1)[0];return i.a.createElement(Et,{todos:"all"==t.visibilityFilter?t.todos:t.todos.filter((function(n){return n.status==t.visibilityFilter})),isLoading:!1,onChangeItemContent:function(t,n){return e({variables:{id:t,content:n}})},onChangeItemStatus:function(t,n){return e({variables:{id:t,status:n}})},onRemoveItem:function(t){return o({variables:{id:t}})}})},Jt=function(){return i.a.createElement(Dt,null,i.a.createElement(Lt,null,"Todos (with apollo local state)",i.a.createElement(Qt,null)),i.a.createElement(Bt,null,i.a.createElement(qt,null,i.a.createElement(Rt,null,i.a.createElement(zt,null)),i.a.createElement(Rt,null,i.a.createElement(_t,null)))))},Kt=new d.a;Kt.writeData({data:{visibilityFilter:a.all,todos:[]}});var Vt=new s.a({cache:Kt,resolvers:Q});l.a.render(i.a.createElement(f.a,{client:Vt},i.a.createElement((function(){return i.a.createElement(Jt,null)}),null)),document.getElementById("root"))},90:function(t,n,e){t.exports=e(104)},95:function(t,n,e){}},[[90,1,2]]]);
//# sourceMappingURL=main.311080cb.chunk.js.map